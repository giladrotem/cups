<section class="edit-profile account-payout">
    <div class="container">
        <div class="profile-content">
            <h3 class="page-head clearfix">
                <div class="pull-left">
                    <a href="users/user_profile" class="btn btn-info back-btn"> <span><i class="fa fa-chevron-left fa-fw"></i></span></a>
                </div>
                <div class="pull-left">{{'Close account' | translate}}</div>
            </h3>
            <p>{{'We\'d be really sad to see you go. Closing your account is irreversible.' | translate}}</p>
            <div class="form-content">
                <form name="userprofileEdit" ng-submit="closeAccount(userprofileEdit.$valid)" novalidate>
                    <div class="form-body">                       
                        <div class="personal-info">                    
                            <div class="location-info">
                                <div class="form-group">
                                    <p class="text-b">{{'Please let us know why you\'re leaving:' | translate}}</p>
                                    <select class="form-control" name="account_close_reason_id" ng-model="user_profile.account_close_reason_id" ng-change="updateDetails(user_profile.account_close_reason_id)" convert-to-number>  
                                        <option value="">{{'-- Please Select --' | translate}}</option>
                                        <option ng-repeat="account in accounts" value="{{account.id}}">{{account.reasons | translate}}</option>	                         
                                    </select>
                                    <span class="error" ng-show="(userprofileEdit.$submitted || userprofileEdit.account_close_reason_id.$touched) && (userprofileEdit.account_close_reason_id.$pristine || userprofileEdit.account_close_reason_id.$invalid) && (userprofileEdit.account_close_reason_id.$error.required)">{{'Required'| translate }}</span>
                                </div>
                                <div class="form-group" ng-if="showing"> 
                                    <p class="text-b">{{'Please specify:' | translate }}</p>
                                    <textarea class="form-control" name="desc_add" id="desc_add"  ng-model="user_profile.account_close_reason" ng-required="true" ng-minlength="1" ng-maxlength="600"></textarea>
                                    <span class="error" ng-show="(userprofileEdit.$submitted || userprofileEdit.desc_add.$touched) && (userprofileEdit.desc_add.$pristine || userprofileEdit.desc_add.$invalid) && (userprofileEdit.desc_add.$error.required)">{{'Required'| translate }} </span>
                                    <span class="error" ng-show="(userprofileEdit.$submitted || userprofileEdit.desc_add.$touched) && (userprofileEdit.desc_add.$pristine || userprofileEdit.desc_add.$invalid) && (userprofileEdit.desc_add.$error.minlength)">{{'Minimum length is 1'| translate}}</span>
                                    <span class="error" ng-show="(userprofileEdit.$submitted || userprofileEdit.desc_add.$touched) && (userprofileEdit.desc_add.$pristine || userprofileEdit.desc_add.$invalid) && (userprofileEdit.desc_add.$error.maxlength)">{{'Maximum length is 600'| translate }} </span>
                                </div>
                            </div>
                        </div>                        
                        <div class="professional-info" ng-if="button">                           
                            <button class="btn btn-info btn-animate" type="submit">{{'Please close my account' | translate }}</button>
                        </div>
                        <p>{{'or' | translate }}</p>
                        <div class="professional-info">                            
                            <a href="users/user_profile">{{'Cancel and go back to account' | translate}}</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>